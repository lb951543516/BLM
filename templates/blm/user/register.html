{% extends 'base_user.html' %}
{% load static %}

{% block ext_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'blm/user/register/css/yzm.css' %}">
{% endblock %}

{% block content %}
    {% if error == 2 %}
        <div class="alert alert-danger" role="alert" style="text-align: center">手机号已被绑定！</div>
    {% endif %}
    {% if error == 1 %}
        <div class="alert alert-danger" role="alert" style="text-align: center">密码有误！</div>
    {% endif %}
    {% if error == 0 %}
        <div class="alert alert-danger" role="alert" style="text-align: center">用户名已注册或用户名有误！</div>
    {% endif %}


    <div style="margin-top: 50px"></div>
    <h2 align="center">注册</h2>
    <div style="margin-top: 30px"></div>

    <form class="form-horizontal" action="{% url 'user:register' %}" method="POST" enctype="multipart/form-data">
        {#       用户名#}
        <div class="container" style="margin-left: 18px">
            <label class="col-sm-2 control-label">用户名</label>
            <input type="text" name="username" placeholder="Account(6~12)" class="form-control" id="reg_user"
                   style="width: 220px;display: inline">
            <span class="user_hint"></span>
        </div>

        {#       密码#}
        <div class="container" style="margin-left: 5px;margin-top: 20px">
            <label class="col-sm-2 control-label">填写密码</label>
            <input type="password" name="password" placeholder="Password(6~12)" class="form-control" id="reg_password"
                   style="width: 220px;display: inline">
            <span class="password_hint"></span>
        </div>

        {#       确认密码#}
        <div class="container" style="margin-left: 5px;margin-top: 20px">
            <label class="col-sm-2 control-label">确认密码</label>
            <input type="password" name="c_password" placeholder="Comfirm Password" class="form-control"
                   id="reg_confirm"
                   style="width: 220px;display: inline">
            <span class="confirm_hint"></span>
        </div>

        {#        手机号#}
        <div class="container" style="margin-left: 18px;margin-top: 20px">
            <label class="col-sm-2 control-label">手机号</label>
            <input type="text" name="phone" placeholder="Tel Number" class="form-control" id="reg_phone"
                   style="width: 220px;display: inline">
            <span class="phone_hint"></span>
        </div>

        {#        验证码#}
        <div class="container" style="margin-left: 18px;margin-top: 20px">
            <label class="col-sm-2 control-label">验证码</label>
            <input type="text" name="yzm" placeholder="输入验证码(大小写不限)" class="form-control" id="reg_yzm"
                   style="width: 220px;display: inline">
            <span class="yzm_hint"></span>
            <label class="col-sm-2 control-label" style="margin-left: 43px;margin-top: 2px"></label>
            <canvas id="canvas" width="100" height="33px"></canvas>
        </div>

        {#        按钮#}
        <div class="container" style="margin-top: 30px">
            <label class="col-sm-2 control-label"></label>
            <button type="submit" id="toast" class="btn btn-info" style="margin-left: 70px">注册</button>
            &nbsp
            <a href="{% url 'user:login' %}">
                <button type="button" class="btn btn-info" style="margin-left: 20px">返回</button>
            </a>
        </div>
    </form>
{% endblock %}

{% block ext_js %}
    <script src="{% static 'blm/user/register/js/code.js' %}"></script>
    <script src="{% static 'blm/user/register/js/register.js' %}"></script>
{% endblock %}